#!/usr/bin/env bash

export STOW_FOLDERS="bin,nvim,tmux,linux,personal,i3,zsh"

addToPath() {
    if [[ "$PATH" != *"$1"* ]]; then
        export PATH=$PATH:$1
    fi
}

addToPathFront() {
    if [[ "$PATH" != *"$1"* ]]; then
        export PATH=$1:$PATH
    fi
}

GIT_SUBMODULES=$(grep path $DOTFILES/.gitmodules | sed 's/.*= //')

commitDotFiles() {
    pushd $DOTFILES
    git add .
    git commit -m "automagic messaging from me in the past."

    # Iterate over each submodule path
    for submodule in $(grep path .gitmodules | sed 's/.*= //'); do
        pushd $submodule
        git add .
        git commit -m "Update submodule"
        popd
    done

    git push origin master --recurse-submodules=on-demand
    popd
}

